#!/usr/bin/env bash

#==============================================================================
# install noisetorch (https://github.com/noisetorch/NoiseTorch)
#==============================================================================

{{ if eq .chezmoi.os "linux" -}}

if ! command -v sudo &> /dev/null
then
    echo "Installing sudo"
    apt update && apt install sudo apt-utils
fi

sudo apt update && sudo apt install -y

# Install oh my zsh
if [ ! -d "$HOME/.oh-my-zsh" ]; then
    echo "Oh-My-Zsh is not installed, installing now" 
    git clone https://github.com/ohmyzsh/ohmyzsh.git $HOME/.oh-my-zsh
    chsh -s $(which zsh)
fi

# Set up ZSH Packages
if [ ! -d "$HOME/.oh-my-zsh/custom/plugins/zsh-autosuggestions" ]; then
    echo "zsh-autosuggestions is not installed, cloning now" 
    git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
fi

if [ ! -d "$HOME/.oh-my-zsh/custom/plugins/zsh-completions" ]; then
    echo "zsh-completions is not installed, cloning now" 
    git clone https://github.com/zsh-users/zsh-completions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-completions
fi

{{end}}